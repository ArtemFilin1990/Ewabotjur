# ===================================
# EWABOTJUR CONFIGURATION
# ===================================

# Порт, который будет слушать сервер (Amvera передаёт PORT автоматически)
PORT=3000

# URL приложения (используется для генерации webhook URLs)
# Для продакшена используйте публичный домен Amvera: https://<your-app>.amvera.io
APP_URL=https://your-app.amvera.io

# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ===================================
# TELEGRAM BOT
# ===================================

# Секрет Telegram webhook (используется в URL /webhook/telegram/:secret
# или как secret_token в Telegram setWebhook)
TELEGRAM_WEBHOOK_SECRET=replace_with_random_secret
# Альтернативное имя: TG_WEBHOOK_SECRET=replace_with_random_secret

# Токен Telegram бота для отправки ответов
TELEGRAM_BOT_TOKEN=replace_with_bot_token

# ===================================
# DADATA API
# ===================================

# Настройки DaData для поиска данных о компаниях
DADATA_API_KEY=replace_with_dadata_api_key
DADATA_SECRET_KEY=replace_with_dadata_secret_key

# ===================================
# OPENAI GPT
# ===================================

# OpenAI API для анализа рисков и рекомендаций
OPENAI_API_KEY=replace_with_openai_api_key
# Модель GPT (по умолчанию: gpt-4)
OPENAI_MODEL=gpt-4

# ===================================
# BITRIX24 OAUTH
# ===================================

# Настройки Bitrix24 локального приложения
BITRIX_DOMAIN=https://your-domain.bitrix24.ru
BITRIX_CLIENT_ID=your_bitrix_client_id
BITRIX_CLIENT_SECRET=your_bitrix_client_secret
BITRIX_REDIRECT_URL=https://your-app.amvera.io/oauth/bitrix/callback

# ===================================
# DATABASE
# ===================================

# PostgreSQL connection string для хранения токенов Bitrix24
# Пример: postgresql://user:password@localhost:5432/ewabotjur
DATABASE_URL=postgresql://user:password@localhost:5432/ewabotjur

# Таймаут подключения к БД на старте (сек), ограничен диапазоном 1..30
DATABASE_CONNECT_TIMEOUT_SECONDS=5

# Делать ли БД обязательной на старте.
# false: сервис стартует даже при недоступной БД (с деградацией функциональности)
# true: сервис завершится с ошибкой, если миграция не удалась
DATABASE_REQUIRED_ON_STARTUP=false

# ===================================
# MCP (OPTIONAL)
# ===================================

# Использование MCP серверов (опционально)
USE_MCP=false
# MCP_SERVER_URL=http://localhost:8000
# MCP_API_KEY=your_mcp_api_key
