# MCP Servers для Ewabotjur

Этот каталог содержит серверы Model Context Protocol (MCP) для интеграции с внешними сервисами.

## DaData MCP Server

Сервер MCP для интеграции с API DaData - российским сервисом обогащения данных для проверки компаний, стандартизации адресов и поиска информации о юридических лицах.

### Доступные инструменты

#### 1. `dadata_suggest_company`
Поиск российских компаний по названию, ИНН или ОГРН.

**Параметры:**
- `query` (обязательный): Название компании, ИНН или ОГРН для поиска
- `count` (опциональный): Количество возвращаемых подсказок (по умолчанию: 10, максимум: 20)

**Возвращает:**
- Краткое название компании
- Полное название с организационно-правовой формой
- ИНН, ОГРН, КПП
- Адрес
- Статус (действующая/ликвидирована)
- Дата ликвидации (если применимо)
- Информация о руководстве

#### 2. `dadata_find_by_id`
Поиск компании или ИП по точному ИНН или ОГРН.

**Параметры:**
- `query` (обязательный): ИНН или ОГРН для поиска
- `type` (опциональный): Тип объекта - "party" для компании/ИП, "bank" для банка (по умолчанию: "party")

**Возвращает:** Полную информацию о найденной организации

#### 3. `dadata_suggest_address`
Подсказка и стандартизация российских адресов.

**Параметры:**
- `query` (обязательный): Адрес для поиска и стандартизации
- `count` (опциональный): Количество возвращаемых подсказок (по умолчанию: 10, максимум: 20)

**Возвращает:**
- Структурированные данные адреса
- Почтовый индекс
- Регион, город, улица
- Координаты (широта, долгота)

#### 4. `dadata_clean_address`
Очистка и стандартизация одного адреса.

**Параметры:**
- `address` (обязательный): Адрес для очистки и стандартизации

**Возвращает:** Разбор адреса на структурированные компоненты

### Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` с вашими ключами DaData:
```env
DADATA_API_KEY=your_dadata_api_key_here
DADATA_SECRET_KEY=your_dadata_secret_key_here
```

3. Скомпилируйте TypeScript:
```bash
npm run build
```

### Использование

#### Запуск сервера напрямую
```bash
node dist/mcp-servers/dadata-server.js
```

#### Использование с Claude Desktop

Добавьте в конфигурацию Claude Desktop (`~/Library/Application Support/Claude/claude_desktop_config.json` на macOS):

```json
{
  "mcpServers": {
    "dadata": {
      "command": "node",
      "args": [
        "/absolute/path/to/Ewabotjur/dist/mcp-servers/dadata-server.js"
      ],
      "env": {
        "DADATA_API_KEY": "your_dadata_api_key_here",
        "DADATA_SECRET_KEY": "your_dadata_secret_key_here"
      }
    }
  }
}
```

После настройки перезапустите Claude Desktop. Сервер DaData MCP будет доступен как набор инструментов.

### Примеры использования

**Поиск компании:**
```
Используй dadata_suggest_company для поиска "Яндекс"
```

**Поиск по ИНН:**
```
Используй dadata_find_by_id для поиска компании с ИНН 7736207543
```

**Стандартизация адреса:**
```
Используй dadata_suggest_address для адреса "Москва, Льва Толстого 16"
```

**Очистка адреса:**
```
Используй dadata_clean_address для "мск сухонская 11"
```

### Требования

- Node.js 18 или выше
- TypeScript 5.7 или выше
- Действующие ключи API DaData

### Безопасность

**Важно:** Никогда не коммитьте файлы `.env` или не храните API ключи в системе контроля версий. Используйте переменные окружения для конфиденциальных данных.

### Ограничения API

DaData имеет лимиты на количество запросов в зависимости от вашего тарифного плана. Проверьте ваш план на https://dadata.ru/

### Поддержка

Для вопросов по API DaData обращайтесь к официальной документации: https://dadata.ru/api/
