version: '3.8'

services:
  worker:
    build: .
    container_name: ewabotjur_worker
    restart: unless-stopped
    environment:
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
      - DADATA_TOKEN=${DADATA_TOKEN}
      - DADATA_SECRET=${DADATA_SECRET}
      - ALLOWED_CHAT_IDS=${ALLOWED_CHAT_IDS}
      - WORKER_AUTH_TOKEN=${WORKER_AUTH_TOKEN}
      - MEMORY_STORE_PATH=/app/storage/memory.json
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    volumes:
      - ./storage:/app/storage
    ports:
      - "8000:8000"
